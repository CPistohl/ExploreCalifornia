@inject ExploreCalifornia.Models.FormattingService Format
@model ExploreCalifornia.Models.Post

@{
	var postParameters = new Dictionary<string, string>
	{
		{"year", Model.Posted.Year.ToString() },
		{"month", Model.Posted.Month.ToString()},
		{"key", Model.Key.ToString() }
	};
}

<article class="blog-post">
	<!--<h1>@Html.ActionLink(Model.Title, "Post", "Blog", new { year = Model.Posted.Year, month = Model.Posted.Month, key = Model.Key })</h1>-->
	<h1><a asp-controller="Blog" asp-action="Post" asp-all-route-data="postParameters">@Model.Title</a></h1>

	<div class="details">
		Posted <span>@Format.AsReadableString(Model.Posted)</span> by <span>@Model.Author</span>
	</div>

	<div class="content">
		@Model.Body
	</div>

	<a href="#" class="show-comments">Show Comments</a>
	<div class="comments-container hide">
		<h3>Comments</h3>
		<div class="comments">
		</div>
		<hr />
		<div>
			<a href="#" class="add-comment">Add a comment</a>
			<div class="new-comment hide" data-post-key="@Model.Key">
				<form role="form">
					<div class="form-group">
						<textarea name="Body" class="new-comment form-control" placeholder="Enter comment here..."></textarea>
						<button type="submit" class="btn btn-default">Create Comment</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</article>